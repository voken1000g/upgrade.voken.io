(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{883:function(t,e,n){"use strict";n.r(e);var o=n(0),r=(n(16),n(40)),l=n.n(r),c=n(1),m=n(82),v=n(17),f={name:"dev-voken-migration-list",middleware:["web3","voken"],data:function(){return{fnEtherscan:m.a,fromBlock:0,toBlock:"latest",migrations:[],accounts:[]}},methods:{getVokenMigrations:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.state.voken.contract().getPastEvents("Transfer",{filter:{to:v.a.CONTRACT_ADDRESS_MIGRATE},fromBlock:t.fromBlock,toBlock:t.toBlock}).then(t.onGetVokenMigrations).catch(t.onGetVokenMigrationsError);case 2:case"end":return e.stop()}}),e)})))()},onGetVokenMigrations:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,i,r,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(t),!(t.length>0)){n.next=17;break}o=[],i=0;case 4:if(!(i<t.length)){n.next=17;break}return r=t[i].returnValues.from,n.next=8,e.$store.state.voken.contract().methods.address2voken(r).call();case 8:return m=n.sent,console.log("vokenInt:",m),o.push({blockNumber:c.a.ns2Str(t[i].blockNumber,0),transactionHash:t[i].transactionHash,from:r,to:l.a.fromBNString(m),amount:c.a.ns2Str(t[i].returnValues.value)}),e.migrations=o,n.next=14,setTimeout("",300);case 14:i++,n.next=4;break;case 17:case"end":return n.stop()}}),n)})))()},onGetVokenMigrationsError:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("::: P[voken-migration-list] onGetVokenMigrationsError:",t);case 1:case"end":return e.stop()}}),e)})))()}}},k=n(2),component=Object(k.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("layout-hero-simple",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n      Voken Migrations\n    ")]},proxy:!0}])}),t._v(" "),n("div",{staticClass:"resp-wide py-20"},[n("div",{staticClass:"w-full space-y-6"},[n("div",{staticClass:"flex items-end space-x-6"},[n("div",{staticClass:"w-2/5"},[n("label",{staticClass:"block text-sm font-medium leading-5 label",attrs:{for:"from-block"}},[t._v("\n            From Block\n          ")]),t._v(" "),n("div",{staticClass:"relative mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.fromBlock,expression:"fromBlock"}],staticClass:"input-indigo w-full py-2 px-4 text-base",attrs:{type:"text",id:"from-block"},domProps:{value:t.fromBlock},on:{input:function(e){e.target.composing||(t.fromBlock=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"w-2/5"},[n("label",{staticClass:"block text-sm font-medium leading-5 label",attrs:{for:"to-block"}},[t._v("\n            To Block - Latest: #"+t._s(t.$store.state.ether.blockNumber)+"\n          ")]),t._v(" "),n("div",{staticClass:"relative mt-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toBlock,expression:"toBlock"}],staticClass:"input-indigo w-full py-2 px-4 text-base",attrs:{type:"text",id:"to-block"},domProps:{value:t.toBlock},on:{input:function(e){e.target.composing||(t.toBlock=e.target.value)}}})])]),t._v(" "),n("button",{staticClass:"w-1/5 btn btn-pink justify-center py-2 text-base uppercase",on:{click:t.getVokenMigrations}},[t._v("\n          Query\n        ")])]),t._v(" "),t.migrations.length>0?n("div",{staticClass:"mt-12 px-4"},[n("layout-table-simple",[n("table",[n("thead",[n("tr",[n("th",[t._v("\n                Block\n              ")]),t._v(" "),n("th",[t._v("\n                Hash\n              ")]),t._v(" "),n("th",[t._v("\n                From\n              ")]),t._v(" "),n("th",[t._v("\n                To\n              ")]),t._v(" "),n("th",[t._v("\n                Amount\n              ")])])]),t._v(" "),n("tbody",t._l(t.migrations,(function(e){return n("tr",{staticClass:"font-mono"},[n("td",[t._v("\n                #"+t._s(e.blockNumber)+"\n              ")]),t._v(" "),n("td",[n("a",{attrs:{target:"_blank",href:t.fnEtherscan.tx(e.transactionHash)}},[t._v("\n                  "+t._s(e.transactionHash)+"\n                ")])]),t._v(" "),n("td",[t._v("\n                "+t._s(e.from)+"\n              ")]),t._v(" "),n("td",[t._v("\n                "+t._s(e.to)+"\n              ")]),t._v(" "),n("td",[t._v("\n                "+t._s(e.amount)+" VokenTB\n              ")])])})),0)])])],1):t._e()])])],1)}),[],!1,null,"1e81b6ff",null);e.default=component.exports;installComponents(component,{LayoutHeroSimple:n(246).default,LayoutTableSimple:n(174).default})}}]);